<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>OSRS.IF</groupId>
  <artifactId>OSRS-Scripts</artifactId>
  <name>${project.groupId}:${project.artifactId}</name>
  <version>0.1</version>
  <description>IF OSRS Scripts</description>
  <build>
    <resources>
      <resource>
        <directory>src/main/resources</directory>
      </resource>
    </resources>
    <plugins>
      <plugin>
        <groupId>com.igormaznitsa</groupId>
        <artifactId>jcp</artifactId>
        <version>7.1.2</version>
        <executions>
          <execution>
            <id>preprocessSources</id>
            <phase>generate-sources</phase>
            <goals>
              <goal>preprocess</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <vars>
            <CycleAuthentication>${CycleAuthentication}</CycleAuthentication>
          </vars>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-shade-plugin</artifactId>
        <version>3.6.0</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <outputFile>${DBScriptFolder}\OSRS-Scripts.jar</outputFile>
            </configuration>
          </execution>
        </executions>
        <configuration>
          <promoteTransitiveDependencies>true</promoteTransitiveDependencies>
          <shadeSourcesContent>true</shadeSourcesContent>
          <filters>
            <filter>
              <artifact>*:*</artifact>
              <excludes>
                <exclude>META-INF/*.*</exclude>
              </excludes>
            </filter>
          </filters>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <profiles>
    <profile>
      <id>Obfuscate</id>
      <build>
        <plugins>
          <plugin>
            <groupId>com.github.wvengen</groupId>
            <artifactId>proguard-maven-plugin</artifactId>
            <version>2.6.1</version>
            <executions>
              <execution>
                <id>obfuscation-packaging</id>
                <phase>package</phase>
                <goals>
                  <goal>proguard</goal>
                </goals>
                <configuration>
                  <proguardVersion>7.6.0</proguardVersion>
                  <obfuscate>true</obfuscate>
                  <attach>true</attach>
                  <appendClassifier>false</appendClassifier>
                  <addMavenDescriptor>true</addMavenDescriptor>
                  <injar>${project.build.finalName}.jar</injar>
                  <proguardInclude>${basedir}/ProguardConfig.pro</proguardInclude>
                  <injarNotExistsSkip>true</injarNotExistsSkip>
                  <options>
                    <option>-libraryjars
                                            "${java.home}/jmods/java.base.jmod"</option>
                    <option>-libraryjars
                                            "${java.home}/jmods/java.desktop.jmod"</option>
                    <option>-libraryjars
                                            "${java.home}/jmods/java.datatransfer.jmod"</option>
                    <option>-libraryjars
                                            "${java.home}/jmods/java.logging.jmod"</option>
                    <option>-allowaccessmodification</option>
                    <option>-overloadaggressively</option>
                    <option>-useuniqueclassmembernames</option>
                    <option>-optimizationpasses 10</option>
                    <option>-mergeinterfacesaggressively</option>
                    <option>-optimizeaggressively</option>
                    <option>-repackageclasses</option>
                    <option>-flattenpackagehierarchy</option>
                    <option>-keepattributes
                                            Signature,*Annotation*,InnerClasses</option>
                    <option>-verbose</option>
                    <option>-whyareyoukeeping public class
                                            OSRSDatabase.ItemDB$EquipmentData</option>
                  </options>
                </configuration>
              </execution>
            </executions>
            <dependencies>
              <dependency>
                <groupId>com.guardsquare</groupId>
                <artifactId>proguard-base</artifactId>
                <version>7.6.0</version>
              </dependency>
            </dependencies>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>MeleeTrainer</id>
      <properties>
        <Scripts.melee>-keepnames public class
                    Scripts.CommissionScripts.MeleeTrainer { *; }</Scripts.melee>
      </properties>
    </profile>
    <profile>
      <id>CycleAuthentication</id>
      <properties>
        <CycleAuthentication>@Ignored</CycleAuthentication>
      </properties>
    </profile>
  </profiles>
  <properties>
    <EncryptedResourceDirectory>${project.build.directory}/encrypted-resources</EncryptedResourceDirectory>
    <maven.compiler.source>21</maven.compiler.source>
    <EncryptionKey>U9&gt;c1D27rdQ38[5c</EncryptionKey>
    <DBScriptFolder>C:\Users\SammyLaptop\DreamBot\Scripts</DBScriptFolder>
    <maven.compiler.target>21</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <CycleAuthentication>//</CycleAuthentication>
  </properties>
</project>
